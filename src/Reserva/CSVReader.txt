Arquivo funcionando fazendo a coleta do arquivo e retornando os valores corretos na tabela



import React from "react"
import { useState, useEffect } from "react";
import { useCSVReader } from "react-papaparse"
import CSVTable from "./CSVTable"
import SerieSpeedfrom "./Chart" 
import '../App.css'
import '../Styles/table.css'

const styles = {
  csvReader: {
    display: "flex",
    flexDirection: "row",
    marginBottom: 10
  },
  browseFile: {
    width: "20%"
  },
  acceptedFile: {
    border: "1px solid #ccc",
    height: 45,
    lineHeight: 2.5,
    paddingLeft: 10,
    width: "80%"
  },
  remove: {
    borderRadius: 0,
    padding: "0 20px"
  },
  progressBarBackgroundColor: {
    backgroundColor: "red"
  }
}



export default function CSVReader() {
  const { CSVReader } = useCSVReader()
  const [csvData, setCsvData] = useState(null);

  useEffect(() => { // Quando o valor de csvData Ã© atualizado ele realiza o console.log
    console.log("CSV atualizado:", csvData);
  }, [csvData]); // useEffect fica observando o valor de csvData

  return (
    <CSVReader
    config={{ header: true }}
      onUploadAccepted={(results) => {
        // console.log("---------------------------")
        // console.log(results)
        // console.log("---------------------------")
        setCsvData(results.data);
        console.log("jujubinha1");
      }}
    >
      {({ getRootProps, acceptedFile, ProgressBar, getRemoveFileProps }) => (
        < >
          <div style={styles.csvReader}>
            <button type="button" {...getRootProps()} style={styles.browseFile}>
              Browse file
            </button>
            <div style={styles.acceptedFile}>
              {acceptedFile && acceptedFile.name}
            </div>
            <button {...getRemoveFileProps()} style={styles.remove} onClick={() => setCsvData(null)}>
              Remove
            </button>
          </div>
          <ProgressBar style={styles.progressBarBackgroundColor} />
          {/* {csvData && (
            <pre style={{ textAlign: "left", marginTop: 20 }}>
              {JSON.stringify(csvData, null, 2)}
            </pre>
          )} */}
          <div className="general-container">
            <div className="csv-table">
            {/* {csvData && <CSVTable data={csvData} />} */}
            </div>
            {csvData && <SerieSpeeddata={csvData} />}
          </div>
        </>       
      )}
    </CSVReader>
    
    );
}
